<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Document</title>
  <!-- materialize -->
  <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.6/css/materialize.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.6/js/materialize.min.js"></script>
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

  <!-- Angualar Js -->
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular.min.js"></script>
  <script src="controller.js"></script>
</head>

<body ng-app='posApp' ng-controller='posCtrl'>
  <nav>
    <div class="nav-wrapper">
      <div class="brand-logo center">Product List </div>
      <ul id="nav-mobile" class="left hide-on-med-and-down">
      </ul>
    </div>
  </nav>

  <div class="container">
    <div class="row">
      <div class="col s4 ">
        <input placeholder="Product ID" ng-model="pid" type="text">
        <input placeholder="Product Name" ng-model="pname" type="text">
        <input placeholder="Product Price" ng-model="pprice" type="text">
        <button class="btn waves-effect waves-light" type="submit" ng-click="addData(pid,pname,pprice)">Add to List</button>
      </div>

      <div class="col s6 offset-s2">
        <table class="centered">
          <thead>
            <tr>
              <th data-field="id">Product ID</th>
              <th data-field="name">Product Name</th>
              <th data-field="price">Product Price</th>
              <th data-field="price">Delete</th>
              <th data-field="price">Edit</th>
            </tr>
          </thead>
          <tbody>
            <tr ng-repeat="v in value | orderBy:'pid'">
              <td>{{v.pid}}</td>
              <td>{{v.pname}}</td>
              <td>{{v.pprice}}</td>
              <td><a class="btn-floating" ng-click="deleteData(v._id)" onclick="confirm('คุณต้องการลบใช่หรือไม่ ?')"><i class="small material-icons">delete</i></a></td>
              <td><a class="waves-effect waves-light btn-floating modal-trigger" href="#modal1" ng-click="showData(v._id)"><i class="small material-icons">mode_edit</i></a></td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>

  <!-- Modal Structure -->
  <div id="modal1" class="modal">
    <div class="modal-content">
      <h4>Product ID : {{singlevalue[0].pid}}</h4>
      <div class="input-field col s6">
        <input id="last_name" type="text" class="validate" ng-model="newname">
      </div>
      <div class="input-field col s6">
        <input id="last_name" type="text" class="validate" ng-model="newprice">
      </div>
    </div>
    <div class="modal-footer">
      <a class=" modal-action modal-close waves-effect waves-green btn" ng-click="editData(editId,newname,newprice)" onclick="confirm('ยืนยันการแก้ไข ?')">Save</a>
    </div>
  </div>


</body>

</html>
